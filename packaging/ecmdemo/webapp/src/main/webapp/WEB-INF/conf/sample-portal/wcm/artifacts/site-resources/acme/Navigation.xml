<?xml version="1.0" encoding="UTF-8"?><Navigation xmlns:nt="http://www.jcp.org/jcr/nt/1.0" xmlns:tkn="http://www.gatein.org/jcr/token/1.0/" xmlns:webdav="http://www.exoplatform.org/jcr/webdav" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:gtn="http://www.gatein.org/jcr/gatein/1.0/" xmlns:rh="www.vn.vnn" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:wsrp="http://www.gatein.org/jcr/wsrp/1.0/" xmlns:sv="http://www.jcp.org/jcr/sv/1.0" xmlns:jos="http://nl.ijs.si/jos/" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:metadata="http://www.exoplatform.com/jcr/metadata/1.1/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:app="http://www.gatein.org/jcr/application-registry/1.0/" xmlns:Re="http://www.exoplatform.com/jcr/Re/1.1/" xmlns:lgn="http://www.gatein.org/jcr/autologin/1.0/" xmlns:mop="http://www.gatein.org/jcr/mop/1.0/" xmlns:fn_old="http://www.w3.org/2004/10/xpath-functions" xmlns:mix="http://www.jcp.org/jcr/mix/1.0" xmlns:publication="http://www.exoplatform.com/jcr/publication/1.1/" xmlns:exo="http://www.exoplatform.com/jcr/exo/1.0" xmlns:Fwd="http://www.exoplatform.com/jcr/Fwd/1.1/" xmlns:pc="http://www.gatein.org/jcr/pc/1.0/" xmlns:rma="http://www.rma.com/jcr/" xmlns:kfx="http://www.exoplatform.com/jcr/kfx/1.1/" xmlns:portlet="http://www.gatein.org/jcr/portlet/1.0/" xmlns:rep="internal" jcr:primaryType="exo:webContent" jcr:mixinTypes="exo:owneable exo:datetime exo:linkable mix:votable mix:commentable exo:modify mix:i18n" jcr:uuid="38feb7467f000001005583765fa59bda" exo:dateCreated="2009-08-21T01:08:20.339+07:00" exo:dateModified="2011-05-20T18:23:19.715+07:00" exo:language="en" exo:lastModifiedDate="2011-05-20T18:23:34.293+07:00" exo:lastModifier="root" exo:links="" exo:owner="root" exo:summary="" exo:title="ACME_x0020_Navigation" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:predecessors="0d2569757f00010101453f82db583292" jcr:versionHistory="0d2533af7f000101012cd266a542318b"><js jcr:primaryType="exo:jsFolder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable mix:i18n" exo:dateCreated="2009-08-21T01:08:20.410+07:00" exo:dateModified="2009-08-21T01:08:20.417+07:00" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.378+07:00"><default.js jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:jsFile exo:datetime mix:votable mix:commentable exo:modify mix:i18n" jcr:uuid="38feb7d17f00000100b381629949657a" exo:active="true" exo:dateCreated="2009-08-21T01:08:20.534+07:00" exo:dateModified="2009-11-26T13:52:42.281+07:00" exo:language="en" exo:lastModifiedDate="2011-05-20T18:23:19.659+07:00" exo:lastModifier="root" exo:owner="root" exo:presentationType="exo:jsFile" exo:priority="0" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.445+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable exo:jsFile dc:elementSet mix:i18n" jcr:uuid="38feb84d7f0000010063d9cde17eb4fd" exo:active="false" exo:dateCreated="2009-08-21T01:08:20.598+07:00" exo:dateModified="2009-08-21T01:08:20.605+07:00" exo:internalUse="false" exo:language="en" exo:owner="root" exo:priority="0" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:data="ZVhvLnJlcXVpcmUoImVYby53Y20uYmFja29mZmljZS5wcml2YXRlLldDTVV0aWxzIiwgIi9lWG9XQ01SZXNvdXJjZXMvamF2YXNjcmlwdC8iKTsKZVhvLnJlcXVpcmUoImVYby53Y20uZnJvbnRvZmZpY2UucHVibGljLkJyZWFkY3J1bWIiLCAiL2VYb1dDTVJlc291cmNlcy9qYXZhc2NyaXB0LyIpOwpmdW5jdGlvbiByZW5kZXJOYXZpZ2F0aW9ucygpIAp7CiAgdHJ5CiAgewogICAgdmFyIG5hdmlnYXRpb25zID0gZVhvLmVudi5wb3J0YWwubmF2aWdhdGlvbnM7ICAgICAgICAKICAgIHZhciB0ZW1wTmF2ID0gbmF2aWdhdGlvbnM7CiAgICBuYXZpZ2F0aW9ucyA9IG5hdmlnYXRpb25zWzBdOwogICAgdmFyIGh0bWwgPSAnPGRpdiBjbGFzcz0iVUlXQ01OYXZpZ2F0aW9uUG9ydGxldCI+PGRpdiBjbGFzcz0iVUlOYXZpZ2F0aW9uQmFyIj4nOyAgIAogICAgdmFyIGRhdGUgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpOyAgCiAgICBmb3IgKGkgaW4gbmF2aWdhdGlvbnMubm9kZXMpCiAgICB7CiAgICAgIHZhciBuYXZpZ2F0aW9uID0gbmF2aWdhdGlvbnMubm9kZXNbaV07CiAgICAgIGlmKG5hdmlnYXRpb24ucmVzb2x2ZWRMYWJlbCkKICAgICAgewogICAgICAgIHZhciB0aXRsZSA9IG5hdmlnYXRpb24ucmVzb2x2ZWRMYWJlbDsgICAgICAgICAgICAgIAoJaWYgKHRpdGxlLmxlbmd0aCA+IDMwKSB7CgkgIHRpdGxlID0gdGl0bGUuc3Vic3RyaW5nKDAsMjkpICsgIi4uLiI7CiAgICAgICAgfQoJdmFyIHRhYlN0eWxlTmF2aWdhdGlvbiA9ICdDb250cm9sQnV0dG9uJzsKCXZhciBjdXJyZW50Tm9kZXMgPSBlWG8uZWNtLldDTUJyZWFkY3J1bWJQb3J0bGV0LmdldEN1cnJlbnROb2Rlcyh0ZW1wTmF2LCBlWG8uZW52LnBvcnRhbC5zZWxlY3RlZE5vZGVVcmkpOyAgCglpZiAoY3VycmVudE5vZGVzLmxlbmd0aD4wICYmIG5hdmlnYXRpb24udXJpID09IGN1cnJlbnROb2Rlc1tjdXJyZW50Tm9kZXMubGVuZ3RoIC0gMV0udXJpKQkKCSAgdGFiU3R5bGVOYXZpZ2F0aW9uID0gJ0NvbnRyb2xCdXR0b24gSG92ZXJCdXR0b24nOyAgICAKCXZhciBsaW5rID0gZVhvLmVjbS5XQ01VdGlscy5nZXRIb3N0TmFtZSgpICsgZVhvLmVudi5wb3J0YWwuY29udGV4dCArICcvJyArIGVYby5lbnYucG9ydGFsLmFjY2Vzc01vZGUgKyAnLycgKyBlWG8uZW52LnBvcnRhbC5wb3J0YWxOYW1lICsgJy8nICsgICAgICBuYXZpZ2F0aW9uLnVyaTsKCXZhciBhcnJvd0ljb24gPSAnJzsKCWh0bWwgKz0gICc8ZGl2IGNsYXNzPSInK3RhYlN0eWxlTmF2aWdhdGlvbisnIiA+JysnPGRpdiBjbGFzcz0iQnV0dG9uIiBleG86Z2V0Tm9kZVVSTD0iJyArIG5hdmlnYXRpb24uZ2V0Tm9kZVVSTCArICciIG9ubW91c2VvdmVyPSJzaG93UG9wdXBNZW51KHRoaXMpIj4nOwoJaWYgKG5hdmlnYXRpb24udXJpKSB7CgkgIGh0bWwgKz0gICAgJzxhIGhyZWY9IicgKyBsaW5rICsgJyI+JyArIHRpdGxlICsgJzwvYT4nOwogICAgICAgIH0gZWxzZSB7CgkgIGh0bWwgKz0gICAgJzxhIGNsYXNzPSJUYWJMYWJlbCAnICsgbmF2aWdhdGlvbi5pY29uICsgJyI+JyArIHRpdGxlICsgJzwvYT4nOwogICAgICAgIH0KCWh0bWwgKz0gICAgJzwvZGl2Pic7CiAgICAgICAgaHRtbCArPSAnPC9kaXY+JzsKICAgICAgfQogICAgfQogICAgaHRtbCArPSAnPGRpdiBzdHlsZT0iY2xlYXI6IGxlZnQ7Ij48c3Bhbj48L3NwYW4+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+JzsKICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXZpZ2F0aW9uLWdlbmVyYXRvcicpLmlubmVySFRNTCA9IGh0bWw7CiAgfQogIGNhdGNoKGVycikKICB7ICAgIAogIH0KfQoKZnVuY3Rpb24gZ2VuZXJhdGVDb250YWluZXIoZGF0YSkgewogIHRyeSB7CiAgICB2YXIgc3RyID0gJzxkaXYgY2xhc3M9IkVDTU1lbnVJdGVtQ29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTogbm9uZTsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDMwcHg7IGxlZnQ6IDJweDsiPic7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG5vZGUgPSBkYXRhW2ldOwogICAgICBpZiAobm9kZS5sYWJlbCkgewogICAgICAgIHZhciBzdWJ0aXRsZSA9IG5vZGUubGFiZWw7ICAgICAgICAgICAgICAKICAgICAgICBpZiAoc3VidGl0bGUubGVuZ3RoID4gMzApIHsKCSAgc3VidGl0bGUgPSBzdWJ0aXRsZS5zdWJzdHJpbmcoMCwyOSkgKyAiLi4uIjsgICAgICAgICAgCiAgICAgICAgfQogICAgICAgIHZhciBsaW5rID0gZVhvLmVjbS5XQ01VdGlscy5nZXRIb3N0TmFtZSgpICsgZVhvLmVudi5wb3J0YWwuY29udGV4dCArICcvJyArIGVYby5lbnYucG9ydGFsLmFjY2Vzc01vZGUgKyAnLycgKyBlWG8uZW52LnBvcnRhbC5wb3J0YWxOYW1lICsgJy8nICsgbm9kZS51cmk7CiAgICAgICAgaWYgKG5vZGUuaGFzQ2hpbGQpIHsKICAgICAgICAgIHN0ciArPSAnPGRpdiBjbGFzcz0iTWVudUl0ZW0iPjxkaXYgY2xhc3M9IkFycm93SWNvbiIgPjxhIGhyZWY9IicrbGluaysnIiBzdHlsZT0idGV4dC1kZWNvcmF0aW9uOm5vbmU7Y29sb3I6d2hpdGUiIGV4bzpnZXROb2RlVVJMPSInICsgbm9kZS5nZXROb2RlVVJMICsgJyIgb25tb3VzZW92ZXI9InNob3dQb3B1cFN1Yk1lbnUodGhpcyk7IiBjbGFzcz0iSXRlbUljb24gRGVmYXVsdFBhZ2VJY29uIj4nK3N1YnRpdGxlKyc8L2E+PC9kaXY+JzsgCiAgICAgICAgfSBlbHNlIHsKCSAgc3RyICs9ICc8ZGl2IGNsYXNzPSJNZW51SXRlbSI+PGRpdj48YSBocmVmPSInK2xpbmsrJyIgc3R5bGU9InRleHQtZGVjb3JhdGlvbjpub25lO2NvbG9yOndoaXRlIiBjbGFzcz0iSXRlbUljb24gRGVmYXVsdFBhZ2VJY29uIj4nK3N1YnRpdGxlKyc8L2E+PC9kaXY+JzsKICAgICAgICB9CgogICAgICAgIGlmIChub2RlLmNoaWxkcy5sZW5ndGgpIHsKCSAgc3RyICs9IGdlbmVyYXRlQ29udGFpbmVyKG5vZGUuY2hpbGRzKTsJCQkKCX0KCXN0cis9JzwvZGl2PicgICAgICAKICAgICAgfQogICAgfQogICAgc3RyICs9ICc8L2Rpdj4nOwoJCSAgCiAgICByZXR1cm4gc3RyOwogIH0gY2F0Y2goZXJyKSB7fQp9CgpmdW5jdGlvbiBzaG93UG9wdXBNZW51KG9iaikgeyAgCiAgdmFyIERPTVV0aWwgPSBlWG8uY29yZS5ET01VdGlsOwogIHZhciB1aU5hdmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnVUlQcmVzZW50YXRpb25Db250YWluZXInKTsJCiAgdmFyIHVpQUNNRU5hdmkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2aWdhdGlvbi1nZW5lcmF0b3InKTsKICB2YXIgdWlXQ01OYXZpZ2F0aW9uUG9ydGxldCA9IERPTVV0aWwuZmluZEZpcnN0RGVzY2VuZGFudEJ5Q2xhc3ModWlBQ01FTmF2aSwgImRpdiIsICJVSVdDTU5hdmlnYXRpb25Qb3J0bGV0Iik7CiAgdmFyIG9ialBhcmVudCA9IERPTVV0aWwuZmluZEFuY2VzdG9yQnlDbGFzcyhvYmosICJDb250cm9sQnV0dG9uIik7CiAgdmFyIG1lbnVJdGVtQ29udGFpbmVyID0gRE9NVXRpbC5maW5kTmV4dEVsZW1lbnRCeVRhZ05hbWUob2JqLCAiZGl2Iik7CgogIHZhciBnZXROb2RlVVJMID0gb2JqLmdldEF0dHJpYnV0ZSgiZXhvOmdldE5vZGVVUkwiKTsKICBpZiAoZ2V0Tm9kZVVSTCAmJiAhbWVudUl0ZW1Db250YWluZXIpIHsKICAgIHZhciBqc0NoaWxkcyA9IGFqYXhBc3luY0dldFJlcXVlc3QoZ2V0Tm9kZVVSTCwgZmFsc2UpCgogICAgdHJ5IHsKICAgICAgdmFyIGRhdGEgPSBlWG8uY29yZS5KU09OLnBhcnNlKGpzQ2hpbGRzKTsKICAgICAgaWYgKGlzTmFOKGRhdGEubGVuZ3RoKSkgewoJcmV0dXJuOwogICAgICB9CgogICAgICB2YXIgdGVtcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICB0ZW1wLmlubmVySFRNTCA9IGdlbmVyYXRlQ29udGFpbmVyKGRhdGEpOyAJCSAgCiAgICAgIG9ialBhcmVudC5hcHBlbmRDaGlsZChlWG8uY29yZS5ET01VdGlsLmZpbmRGaXJzdENoaWxkQnlDbGFzcyh0ZW1wLCAiZGl2IiwgIkVDTU1lbnVJdGVtQ29udGFpbmVyIikpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm47CiAgICB9CQkJICAKICB9CgogIC8vZGlzcGxheSBwb3B1cCAgICAKICBpZihvYmouVGltZW91dCkgY2xlYXJUaW1lb3V0KG9iai5UaW1lb3V0KTsgIAogIGlmKG1lbnVJdGVtQ29udGFpbmVyICYmIG1lbnVJdGVtQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgIT0gImJsb2NrIikgewogICAgb2JqUGFyZW50LnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7ICAgICAgICAgCiAgICBtZW51SXRlbUNvbnRhaW5lci5zdHlsZS50b3AgPSAgb2JqLm9mZnNldEhlaWdodCArICdweCc7ICAgCiAgICBtZW51SXRlbUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsgICAgICAgICAgCiAgICBtZW51SXRlbUNvbnRhaW5lci5vbm1vdXNlb3V0ID0gZnVuY3Rpb24oKXsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgaWYoZVhvLmNvcmUuQnJvd3Nlci5icm93c2VyVHlwZSA9PSAnaWUnKSAgewogICAgICAgIGlmKHVpTmF2aSkgdWlOYXZpLnN0eWxlLnBvc2l0aW9uID0gInJlbGF0aXZlIjsKCWlmKHVpV0NNTmF2aWdhdGlvblBvcnRsZXQpIHVpV0NNTmF2aWdhdGlvblBvcnRsZXQuc3R5bGUucG9zaXRpb24gPSAicmVsYXRpdmUiOwogICAgICB9CiAgICAgIG9iai5UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBtZW51SXRlbUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwkJCQogICAgICAgIG1lbnVJdGVtQ29udGFpbmVyLm9ubW91c2VvdmVyID0gbnVsbDsKICAgICAgICBtZW51SXRlbUNvbnRhaW5lci5vbm1vdXNlb3V0ID0gbnVsbDsKICAgICAgfSwxKjEwKTsKICAgIH0KICAgIG1lbnVJdGVtQ29udGFpbmVyLm9ubW91c2VvdmVyID0gZnVuY3Rpb24oKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAkJCiAgICAgIGlmKGVYby5jb3JlLkJyb3dzZXIuYnJvd3NlclR5cGUgPT0gJ2llJykgIHsKICAgICAgICBpZih1aU5hdmkpIHVpTmF2aS5zdHlsZS5wb3NpdGlvbiA9ICJzdGF0aWMiOwogICAgICAgIGlmKHVpV0NNTmF2aWdhdGlvblBvcnRsZXQpIHVpV0NNTmF2aWdhdGlvblBvcnRsZXQuc3R5bGUucG9zaXRpb24gPSAic3RhdGljIjsKICAgICAgfQogICAgICBpZihvYmouVGltZW91dCkgY2xlYXJUaW1lb3V0KG9iai5UaW1lb3V0KTsKICAgICAgb2JqLlRpbWVvdXQgPSBudWxsOwogICAgfQogICAgb2JqLm9ubW91c2VvdXQgPSBtZW51SXRlbUNvbnRhaW5lci5vbm1vdXNlb3V0OwogICAgbWVudUl0ZW1Db250YWluZXIuc3R5bGUud2lkdGggPSBtZW51SXRlbUNvbnRhaW5lci5vZmZzZXRXaWR0aCArICdweCc7IAogIH0gIAp9CgpmdW5jdGlvbiBzaG93UG9wdXBTdWJNZW51KG9iaikgeyAKICB2YXIgRE9NVXRpbCA9IGVYby5jb3JlLkRPTVV0aWw7CiAgdmFyIG9ialBhcmVudCA9IG9iajsKICB2YXIgc3ViTWVudUl0ZW1Db250YWluZXIgPSBmYWxzZTsgICAKICB2YXIgb2JqUGFyZW50ID0gRE9NVXRpbC5maW5kQW5jZXN0b3JCeUNsYXNzKG9iaiwgIkFycm93SWNvbiIpOwogIGlmKG9ialBhcmVudCkgc3ViTWVudUl0ZW1Db250YWluZXIgPSBET01VdGlsLmZpbmROZXh0RWxlbWVudEJ5VGFnTmFtZShvYmpQYXJlbnQsICJkaXYiKTsgCgogIHZhciBnZXROb2RlVVJMID0gb2JqLmdldEF0dHJpYnV0ZSgiZXhvOmdldE5vZGVVUkwiKTsKICBpZiAoZ2V0Tm9kZVVSTCAmJiAhc3ViTWVudUl0ZW1Db250YWluZXIpIHsKICAgIHZhciBqc0NoaWxkcyA9IGFqYXhBc3luY0dldFJlcXVlc3QoZ2V0Tm9kZVVSTCwgZmFsc2UpOwogICAgdHJ5IHsKICAgICAgdmFyIGRhdGEgPSBlWG8uY29yZS5KU09OLnBhcnNlKGpzQ2hpbGRzKTsKCWlmIChpc05hTihkYXRhLmxlbmd0aCkpIHsKCSAgcmV0dXJuOwoJfQoKCXZhciB0ZW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7Cgl0ZW1wLmlubmVySFRNTCA9IGdlbmVyYXRlQ29udGFpbmVyKGRhdGEpOyAJCgl2YXIgZ3JhbmRQYXJlbnQgPSBET01VdGlsLmZpbmRBbmNlc3RvckJ5Q2xhc3Mob2JqUGFyZW50LCAiTWVudUl0ZW0iKTsKCWdyYW5kUGFyZW50LmFwcGVuZENoaWxkKGVYby5jb3JlLkRPTVV0aWwuZmluZEZpcnN0Q2hpbGRCeUNsYXNzKHRlbXAsICJkaXYiLCAiRUNNTWVudUl0ZW1Db250YWluZXIiKSk7CiAgICAgfSBjYXRjaCAoZSkgewogICAgICAgcmV0dXJuOwogICAgIH0JCQkgIAogIH0KCiAgb2JqUGFyZW50ID0gRE9NVXRpbC5maW5kQW5jZXN0b3JCeUNsYXNzKG9iaiwgIkFycm93SWNvbiIpOwogIGlmKG9ialBhcmVudCkgc3ViTWVudUl0ZW1Db250YWluZXIgPSBET01VdGlsLmZpbmROZXh0RWxlbWVudEJ5VGFnTmFtZShvYmpQYXJlbnQsICJkaXYiKTsgCgogIGlmKG9iai5UaW1lb3V0KSBjbGVhclRpbWVvdXQob2JqLlRpbWVvdXQpOwkKICBpZihzdWJNZW51SXRlbUNvbnRhaW5lciAmJiBzdWJNZW51SXRlbUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ICE9ICJibG9jayIpIHsgICAgICAKICAgIHN1Yk1lbnVJdGVtQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgb2JqUGFyZW50LmNsYXNzTmFtZSA9ICcnOyAgIAogICAgc3ViTWVudUl0ZW1Db250YWluZXIub25tb3VzZW92ZXIgPSBmdW5jdGlvbigpIHsJCiAgICAgIG9ialBhcmVudC5jbGFzc05hbWUgPSAnJzsJCiAgICAgIGlmKG9ialBhcmVudC5UaW1lb3V0KSBjbGVhclRpbWVvdXQob2JqUGFyZW50LlRpbWVvdXQpOwogICAgICBvYmpQYXJlbnQuVGltZW91dCA9ICBudWxsOyAgICAgIAogICAgfQoKICAgIHN1Yk1lbnVJdGVtQ29udGFpbmVyLm9ubW91c2VvdXQgPSBmdW5jdGlvbigpIHsKICAgICAgb2JqUGFyZW50LlRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyAgICAgICAgICAgICAgICAKICAgICAgICB2YXIgc3Vib2JqID0gRE9NVXRpbC5maW5kRmlyc3REZXNjZW5kYW50QnlDbGFzcyhzdWJNZW51SXRlbUNvbnRhaW5lciwgImRpdiIsICJFQ01NZW51SXRlbUNvbnRhaW5lciIpOwogICAgICAgIGlmKHN1Ym9iaikgewogICAgICAgICAgaWYoc3Vib2JqLnN0eWxlLmRpc3BsYXk9PSdibG9jaycpIHsKICAgICAgICAgICAgc3Vib2JqLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7IAkJCQkJCQkJCQogICAgICAgICAgICBzdWJvYmoub25tb3VzZW92ZXIgPSBudWxsOwogICAgICAgICAgICBzdWJvYmoub25tb3VzZW91dCA9IG51bGw7CQkJCQkJCSAKICAgICAgICAgIH0gZWxzZSB7CgkgICAgc3ViTWVudUl0ZW1Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgCgkgICAgb2JqUGFyZW50LmNsYXNzTmFtZSA9ICdBcnJvd0ljb24nOwkJCQkKICAgICAgICAgICAgc3ViTWVudUl0ZW1Db250YWluZXIub25tb3VzZW92ZXIgPSBudWxsOwogICAgICAgICAgICBzdWJNZW51SXRlbUNvbnRhaW5lci5vbm1vdXNlb3V0ID0gbnVsbDsKCSAgfQogICAgICAgIH0gZWxzZSB7CQkKCSAgc3ViTWVudUl0ZW1Db250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgCQkJCQkKCSAgb2JqUGFyZW50LmNsYXNzTmFtZSA9ICdBcnJvd0ljb24nOwkJCQkKCSAgc3ViTWVudUl0ZW1Db250YWluZXIub25tb3VzZW92ZXIgPSBudWxsOwoJICBzdWJNZW51SXRlbUNvbnRhaW5lci5vbm1vdXNlb3V0ID0gbnVsbDsKICAgICAgICB9CiAgICAgIH0sIDEqMTApOyAgICAgIAogICAgfQkKICAgIG9iai5vbm1vdXNlb3V0ID0gc3ViTWVudUl0ZW1Db250YWluZXIub25tb3VzZW91dDsJCiAgICBzdWJNZW51SXRlbUNvbnRhaW5lci5zdHlsZS53aWR0aCA9IHN1Yk1lbnVJdGVtQ29udGFpbmVyLm9mZnNldFdpZHRoICsgJ3B4JzsJCiAgICBzdWJNZW51SXRlbUNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gb2JqUGFyZW50Lm9mZnNldExlZnQgKyBvYmpQYXJlbnQub2Zmc2V0V2lkdGggKyAncHgnOwogICAgc3ViTWVudUl0ZW1Db250YWluZXIuc3R5bGUudG9wID0gIGVYby5jb3JlLkJyb3dzZXIuZmluZFBvc1lJbkNvbnRhaW5lcihvYmpQYXJlbnQsc3ViTWVudUl0ZW1Db250YWluZXIub2Zmc2V0UGFyZW50KSArICdweCc7CiAgfQp9" jcr:encoding="UTF-8" jcr:lastModified="2011-05-20T18:23:19.655+07:00" jcr:mimeType="application/x-javascript"/></default.js></js><css jcr:primaryType="exo:cssFolder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable mix:i18n" exo:dateCreated="2009-08-21T01:08:20.707+07:00" exo:dateModified="2009-08-21T01:08:20.714+07:00" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.676+07:00"><default.css jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:cssFile exo:datetime mix:votable mix:commentable exo:modify mix:i18n" jcr:uuid="38feb8f77f0000010074c5cdbcf40338" exo:active="true" exo:dateCreated="2009-08-21T01:08:20.822+07:00" exo:dateModified="2009-08-21T01:08:20.831+07:00" exo:language="en" exo:lastModifiedDate="2011-05-20T18:23:19.677+07:00" exo:lastModifier="root" exo:owner="root" exo:presentationType="exo:cssFile" exo:priority="0" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.736+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable dc:elementSet mix:i18n" jcr:uuid="38feb96c7f0000010088e0fe71341223" exo:dateCreated="2009-08-21T01:08:20.884+07:00" exo:dateModified="2009-08-21T01:08:20.891+07:00" exo:internalUse="false" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:data="LkVDTU1lbnVJdGVtQ29udGFpbmVyIHsgICAgCiAgei1pbmRleDoxOyAKfQouRUNNTWVudUl0ZW1Db250YWluZXIgLk1lbnVJdGVtIHsKCWJhY2tncm91bmQ6bm9uZSByZXBlYXQgc2Nyb2xsIDAgMCAjM0U0NDVEOwoJYm9yZGVyLXRvcDoxcHggc29saWQgIzU1NUE2RTsKCWhlaWdodDoyOHB4OwoJbGluZS1oZWlnaHQ6MjhweDsKCW9wYWNpdHk6MC45OwoJd2lkdGg6MTAwJTsKfQouRUNNTWVudUl0ZW1Db250YWluZXIgLlNlbGVjdGVkSXRlbSB7CgliYWNrZ3JvdW5kLWNvbG9yOiNBNEE0QTQ7CgliYWNrZ3JvdW5kOm5vbmUgcmVwZWF0IHNjcm9sbCAwIDAgI0E0QTRBNDsKCWJvcmRlci10b3A6MXB4IHNvbGlkICM1NTVBNkU7CgloZWlnaHQ6MjhweDsKCWxpbmUtaGVpZ2h0OjI4cHg7CglvcGFjaXR5OjAuOTsKCXdpZHRoOjEwMCU7Cn0KLkVDTU1lbnVJdGVtQ29udGFpbmVyIC5NZW51SXRlbSAuQXJyb3dJY29uIHsKCWJhY2tncm91bmQ6dXJsKCIvZVhvV0NNUmVzb3VyY2VzL3NraW4vRGVmYXVsdFNraW4vYmFja2dyb3VuZC9BcnJvd0ljb24uZ2lmIikgbm8tcmVwZWF0IHNjcm9sbCByaWdodCBjZW50ZXIgdHJhbnNwYXJlbnQ7Cn0KLkVDTU1lbnVJdGVtQ29udGFpbmVyIC5NZW51SXRlbSAuSXRlbUljb24gewoJYmFja2dyb3VuZC1wb3NpdGlvbjo2cHggY2VudGVyOwoJY3Vyc29yOnBvaW50ZXI7CglkaXNwbGF5OmJsb2NrOwoJbGluZS1oZWlnaHQ6MTZweDsKCXBhZGRpbmc6NXB4IDMycHggMHB4IDBweDsKCXdoaXRlLXNwYWNlOm5vd3JhcDsKCXdpZHRoOmF1dG87Cn0KLkVDTU1lbnVJdGVtQ29udGFpbmVyIC5NZW51SXRlbSAuRGVmYXVsdFBhZ2VJY29uIHsKCWJhY2tncm91bmQ6dXJsKCIvZVhvV0NNUmVzb3VyY2VzL3NraW4vRGVmYXVsdFNraW4vYmFja2dyb3VuZC9Ub29sYmFyQ29udGFpbmVyLnBuZyIpIG5vLXJlcGVhdCBzY3JvbGwgNXB4IC02MzRweCB0cmFuc3BhcmVudDsKCXBhZGRpbmctbGVmdDozMnB4OwoJaGVpZ2h0OjI0cHg7Cn0KLlVJV0NNTmF2aWdhdGlvblBvcnRsZXQgLlVJTmF2aWdhdGlvbkJhciAuQnV0dG9uIHsKY3Vyc29yOnBvaW50ZXI7CmhlaWdodDoyMXB4OwptYXJnaW4tbGVmdDo2cHg7Cm1hcmdpbi1yaWdodDo2cHg7Cn0=" jcr:encoding="UTF-8" jcr:lastModified="2011-05-20T18:23:19.673+07:00" jcr:mimeType="text/css"/></default.css></css><medias jcr:primaryType="exo:multimediaFolder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable mix:i18n" exo:dateCreated="2009-08-21T01:08:20.985+07:00" exo:dateModified="2009-08-21T01:08:20.993+07:00" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0"><images jcr:primaryType="nt:folder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable mix:i18n" exo:dateCreated="2009-08-21T01:08:21.051+07:00" exo:dateModified="2009-08-21T01:08:21.063+07:00" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:21.018+07:00"><illustration jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:datetime mix:referenceable mix:votable mix:commentable exo:modify mix:i18n" jcr:uuid="38feba557f000001004b470c5028be2d" exo:dateCreated="2009-08-21T01:08:21.141+07:00" exo:dateModified="2009-08-21T01:08:21.148+07:00" exo:language="en" exo:lastModifiedDate="2011-05-20T18:23:19.697+07:00" exo:lastModifier="root" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:21.085+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable dc:elementSet mix:i18n" jcr:uuid="38febab07f00000100ec3e186cf11472" exo:dateCreated="2009-08-21T01:08:21.209+07:00" exo:dateModified="2009-08-21T01:08:21.216+07:00" exo:internalUse="false" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:data="" jcr:encoding="UTF-8" jcr:lastModified="2011-05-20T18:23:19.695+07:00" jcr:mimeType=""/></illustration><CenterHilineButton.gif jcr:primaryType="nt:file" jcr:mixinTypes="exo:datetime exo:owneable mix:i18n mix:votable mix:commentable mix:referenceable" jcr:uuid="391f212f7f00000100bb1815e7dd229a" exo:dateCreated="2009-08-21T01:43:44.623+07:00" exo:dateModified="2009-08-21T01:43:44.632+07:00" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:43:44.566+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:datetime exo:owneable dc:elementSet" jcr:uuid="391f21b27f0000010035beaa577f5f28" exo:dateCreated="2009-08-21T01:43:44.724+07:00" exo:dateModified="2009-08-21T01:43:44.732+07:00" exo:internalUse="false" exo:owner="root" jcr:data="R0lGODlhCgAaAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAAKABoAAAIWjI+py+0Po5y02oubEGvv5HlHGAZkAQA7" jcr:encoding="UTF-8" jcr:lastModified="2009-08-21T01:43:44.559+07:00" jcr:mimeType="image/gif"/></CenterHilineButton.gif><WhiteDownArrow.gif jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:datetime" exo:dateCreated="2009-08-26T15:32:24.077+07:00" exo:dateModified="2009-08-26T15:32:24.082+07:00" exo:owner="root" jcr:created="2009-08-26T15:32:24.019+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime dc:elementSet" jcr:uuid="55d596187f00010100136a82e0fe16d6" exo:dateCreated="2009-08-26T15:32:24.120+07:00" exo:dateModified="2009-08-26T15:32:24.127+07:00" exo:internalUse="false" exo:owner="root" jcr:data="R0lGODlhEAAQAMQAAChvm0+kySlwnFWr0Fet0S11oEiZwDuHsUWWvVOpzlKnzECOtzWAqjB4o0qexP///+Hh4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABAALAAAAAAQABAAAAUfICSOZGmeaKquLPm8cPyYcozWcyqzcAvlvqBwSDSFAAA7" jcr:lastModified="2009-08-26T15:32:24.162+07:00" jcr:mimeType="image/gif"/></WhiteDownArrow.gif></images><videos jcr:primaryType="nt:folder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable mix:i18n" exo:dateCreated="2009-08-21T01:08:21.310+07:00" exo:dateModified="2009-08-21T01:08:21.317+07:00" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:21.279+07:00"/></medias><default.html jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:datetime exo:htmlFile mix:votable mix:commentable exo:modify mix:i18n" jcr:uuid="38febb5e7f000001002c7f9329bcb8d5" exo:dateCreated="2009-08-21T01:08:21.402+07:00" exo:dateModified="2009-08-21T01:08:21.410+07:00" exo:language="en" exo:lastModifiedDate="2011-05-20T18:23:19.711+07:00" exo:lastModifier="root" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:21.350+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable dc:elementSet mix:i18n" jcr:uuid="38febbc17f00000100b89aba6316987a" exo:dateCreated="2009-08-21T01:08:21.482+07:00" exo:dateModified="2009-08-21T01:08:21.489+07:00" exo:internalUse="false" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:data="PGRpdiBpZD0ibmF2aWdhdGlvbi1nZW5lcmF0b3IiPgoJPGRpdiBjbGFzcz0iVUlXQ01OYXZpZ2F0aW9uUG9ydGxldCI+CgkJPGRpdiBjbGFzcz0iVUlOYXZpZ2F0aW9uQmFyIj4KCQkJPGRpdiBjbGFzcz0iQ29udHJvbEJ1dHRvbiBIb3ZlckJ1dHRvbiIgaHJlZj0iYWFhIj4KCQkJCTxkaXYgY2xhc3M9IkJ1dHRvbiI+CgkJCQkJT3ZlcnZpZXc8L2Rpdj4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9IkNvbnRyb2xCdXR0b24iIGhyZWY9ImFhYSI+CgkJCQk8ZGl2IGNsYXNzPSJCdXR0b24iPgoJCQkJCU5ld3M8L2Rpdj4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9IkNvbnRyb2xCdXR0b24iIGhyZWY9ImFhYSI+CgkJCQk8ZGl2IGNsYXNzPSJCdXR0b24iPgoJCQkJCUV2ZW50czwvZGl2PgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iQ29udHJvbEJ1dHRvbiIgaHJlZj0iYWFhIj4KCQkJCTxkaXYgY2xhc3M9IkJ1dHRvbiI+CgkJCQkJUHVibGljYXRpb25zPC9kaXY+CgkJCTwvZGl2PgoJCQk8ZGl2IHN0eWxlPSJjbGVhcjogbGVmdDsiPgoJCQkJJm5ic3A7PC9kaXY+CgkJPC9kaXY+Cgk8L2Rpdj4KPC9kaXY+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4vKiA8IVtDREFUQVsgKi8gcmVuZGVyTmF2aWdhdGlvbnMoKTsgLyogXV0+ICovPC9zY3JpcHQ+" jcr:encoding="UTF-8" jcr:lastModified="2011-05-20T18:23:19.709+07:00" jcr:mimeType="text/html"/></default.html><documents jcr:primaryType="nt:unstructured" jcr:mixinTypes="exo:owneable exo:datetime exo:documentFolder mix:votable mix:commentable mix:i18n" exo:dateCreated="2009-08-21T01:08:21.611+07:00" exo:dateModified="2009-08-21T01:08:21.617+07:00" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0"/></Navigation>