
h1. Changes in SVN and exobuild since DMS 2-3

Since version 2.3 we changed the [structure|http://wiki.exoplatform.org/xwiki/bin/view/ECM/] of the SVN directory.

h1. The old structure and ECM no more located in this

  http://svn.exoplatform.org:3840/projects/ecm/

 * Tags location: -svn.exoplatform.org:3840/projects/ecm/tags-
 * Trunk location: -svn.exoplatform.org:3840/projects/ecm/trunk-
 * Branches location: -svn.exoplatform.org:3840/projects/ecm/branches-

You still can make a build with old version of ECM (from 2.0.x to 2.2.x) by command :
{code:xml}
 exobuild -product=ecm -exclude=all -build -deploy --version=x.x
{code}

*But you have to change a little in files product.js and module.js of each ECM old version.*

 For example, in *product.js* file, you have to change
 {code:xml}
 product.codeRepo = "ecm/tags/2.1.3" ;
 var ecm = Module.GetModule("ecm/tags/2.1.3", {kernel : kernel, core : core, ws : ws,
  eXoPortletContainer : eXoPortletContainer, eXoJcr : eXoJcr, portal : portal});
{code}

By

{code:xml}
 product.codeRepo = "ecm/dms/tags/2.1.3" ;
 var ecm = Module.GetModule("ecm/dms/tags/2.1.3", {kernel : kernel, core : core, ws : ws,
 eXoPortletContainer : eXoPortletContainer, eXoJcr : eXoJcr, portal : portal});
{code}

In *module.js* file, you have to change
{code:xml}
 module.relativeSRCRepo =  "ecm/tags/2.1.3" ;
{code}

By

{code:xml}
module.relativeSRCRepo =  "ecm/dms/tags/2.1.3" ;
{code}

1 The new structure
Since 2.3, ECM has been renamed to DMS to better focus on document management.

 http://svn.exoplatform.org:3840/projects/ecm/dms

 * Tags location: http://svn.exoplatform.org:3840/projects/ecm/dms/tags
 * Trunk location: http://svn.exoplatform.org:3840/projects/ecm/dms/trunk
 * Branches location: http://svn.exoplatform.org:3840/projects/ecm/dms/branches

You can make a build with DMS by command
{code:xml}
 exobuild --product=dms --exclude=all --update --build --deploy
{code}

h1. New Workflow product has been created for better modularity and flexiblity

There are plans to add more features to workflow and you can see or checkout it at the location

 http://svn.exoplatform.org:3840/projects/ecm/workflow
 * Trunk location: http://svn.exoplatform.org:3840/projects/ecm/workflow/trunk

And we have a new choice to use
{code:xml}
  exobuild -product=workflow -update -build -deploy
{code}

1 Moved WCM product to the new structure

 * The old one: --svn.exoplatform.org:3840/projects/wcm--
 * The new one: http://svn.exoplatform.org:3840/projects/ecm/wcm

And the same problem in ECM. You have to change two files *product.js* and *module.js* to make wcm build well by command

{code:xml}
exobuild --product=wcm --update --build --deploy
{code}

h1. Added the content-validation which to be used to validate content

Before, this function was integrated in ECM and we can not exclude it with ECM. Since DMS 2.3, this function is optional and we can say yes or no with content validation.
We stored the contentvalidation under ecm structure

 http://svn.exoplatform.org:3840/projects/ecm/contentvalidation/trunk

 Easy to enable the contentvalidation by added parameter "enable-workflow" to build command

{code:xml}
 exobuild -product=dms -update -build -deploy --enable-workflow
{code}

{info}
Finally, you can refer to the [Building from sources|http://wiki.exoplatform.org/xwiki/bin/view/Main/Building+from+sources] to see more instructions.
{info}


