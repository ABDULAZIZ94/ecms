Index: core/services/src/main/java/org/exoplatform/services/cms/jcrext/AddFileDocumentAction.java
===================================================================
--- core/services/src/main/java/org/exoplatform/services/cms/jcrext/AddFileDocumentAction.java	(revision 0)
+++ core/services/src/main/java/org/exoplatform/services/cms/jcrext/AddFileDocumentAction.java	(revision 0)
@@ -0,0 +1,22 @@
+package org.exoplatform.services.cms.jcrext;
+
+import javax.jcr.Node;
+import org.apache.commons.chain.Context;
+import org.exoplatform.services.command.action.Action;
+
+/**
+ * Created by The eXo Platform SAS
+ * Author : Ha Quang Tan
+ *          tanhq@exoplatform.com
+ * May 30, 2011
+ */
+
+public class AddFileDocumentAction implements Action{
+	public boolean execute(Context context) throws Exception {
+    Node node = (Node)context.get("currentItem");    
+    if(node.isNodeType("nt:file") && node.canAddMixin("mix:referenceable")) {
+      node.addMixin("mix:referenceable");      
+    }    
+    return false;
+  }
+}
Index: packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/jcr-component-plugins-configuration.xml
===================================================================
--- packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/jcr-component-plugins-configuration.xml	(revision 69895)
+++ packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/jcr-component-plugins-configuration.xml	(working copy)
@@ -112,6 +112,12 @@
 	                  <field  name="actionClassName"><string>org.exoplatform.services.cms.jcrext.AddDateTimeAction</string></field>
 	                </object>
 	              </value>
+	              <value>
+	                <object type="org.exoplatform.services.jcr.impl.ext.action.ActionConfiguration">
+	                  <field  name="eventTypes"><string>addNode</string></field>	                  
+	                  <field  name="actionClassName"><string>org.exoplatform.services.cms.jcrext.AddFileDocumentAction</string></field>
+	                </object>
+	              </value>
 								<value>
 	                <object type="org.exoplatform.services.jcr.impl.ext.action.ActionConfiguration">
 	                  <field  name="eventTypes"><string>removeNode</string></field>	                  
