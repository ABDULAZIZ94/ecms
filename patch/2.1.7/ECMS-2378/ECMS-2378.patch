Index: ext/workflow/webui/src/main/resources/templates/controller/UITabPane.gtmpl
===================================================================
--- ext/workflow/webui/src/main/resources/templates/controller/UITabPane.gtmpl	(revision 76279)
+++ ext/workflow/webui/src/main/resources/templates/controller/UITabPane.gtmpl	(working copy)
@@ -3,7 +3,9 @@
   import org.exoplatform.webui.core.UIPopupWindow;
   
   def rcontext = _ctx.getRequestContext() ;
-	
+  def messageClose = uicomponent.getClosingConfirmMsg("UIDocumentForm.msg.confirm-close") ;
+  def messageNavigate = uicomponent.getClosingConfirmMsg("UIDocumentForm.msg.confirm-navigate") ;
+  	
   private String getDisplayTab(String selectedTab) {
     if ((uicomponent.getSelectedTab() == null && selectedTab.equals("UITask"))
         || selectedTab.equals(uicomponent.getSelectedTab())  ) {
@@ -69,17 +71,9 @@
         %>
       </div>  
     </div>  
-  </div>  
+  </div>
+  <div id="CloseConfirmationMsg" style="display:none">${messageClose}</div>
+  <div id="NavigateConfirmationMsg" style="display:none">${messageNavigate}</div>	  
 </div>
 <script type="text/javascript" src="/eXoWCMResources/javascript/eXo/wcm/backoffice/private/CloseEvents.js"></script>
-<%  
-  String closeConfirmationMsg = "UIDocumentForm.msg.confirm-close";
-  String navigateConfirmationMsg = "UIDocumentForm.msg.confirm-navigate";
-  def messageClose = uicomponent.getClosingConfirmMsg(closeConfirmationMsg) ;
-  def messageNavigate = uicomponent.getClosingConfirmMsg(navigateConfirmationMsg) ;
-%>
-<script type="text/javascript"> 
-  setClosingConfirmationMsg('<%=messageClose%>');
-  setNavigatingConfirmationMsg('<%=messageNavigate%>');
-</script>
 
Index: apps/portlet-explorer/src/main/webapp/groovy/webui/component/explorer/UIDocumentFormController.gtmpl
===================================================================
--- apps/portlet-explorer/src/main/webapp/groovy/webui/component/explorer/UIDocumentFormController.gtmpl	(revision 76279)
+++ apps/portlet-explorer/src/main/webapp/groovy/webui/component/explorer/UIDocumentFormController.gtmpl	(working copy)
@@ -1,3 +1,7 @@
+<%
+  def messageClose = uicomponent.getClosingConfirmMsg("UIDocumentForm.msg.confirm-close") ;
+  def messageNavigate = uicomponent.getClosingConfirmMsg("UIDocumentForm.msg.confirm-navigate") ;
+%>
 <div class="UIDocumentFormController" id="$uicomponent.id" >	
 	<%
 	  if(uicomponent.isDisplayOptionBlockPanel()) {
@@ -27,6 +31,8 @@
 	   		}
 		%>	
 	<% } %>
+	<div id="CloseConfirmationMsg" style="display:none">${messageClose}</div>
+	<div id="NavigateConfirmationMsg" style="display:none">${messageNavigate}</div>	
 </div>
 <script type="text/javascript" src="/eXoWCMResources/javascript/eXo/wcm/backoffice/private/CloseEvents.js"></script>
 <script type="text/javascript">
@@ -46,13 +52,4 @@
     def rcontext = _ctx.getRequestContext() ;
 	def jsManager = rcontext.getJavascriptManager();
 	jsManager.addOnLoadJavascript("autoFocus");
-
-	String closeConfirmationMsg = "UIDocumentForm.msg.confirm-close";
-	String navigateConfirmationMsg = "UIDocumentForm.msg.confirm-navigate";
-	def messageClose = uicomponent.getClosingConfirmMsg(closeConfirmationMsg) ;
-	def messageNavigate = uicomponent.getClosingConfirmMsg(navigateConfirmationMsg) ;
 %>
-<script type="text/javascript"> 
-	setClosingConfirmationMsg('<%=messageClose%>');
-	setNavigatingConfirmationMsg('<%=messageNavigate%>');
-</script>
Index: apps/resources-wcm/src/main/webapp/javascript/eXo/wcm/backoffice/private/CloseEvents.js
===================================================================
--- apps/resources-wcm/src/main/webapp/javascript/eXo/wcm/backoffice/private/CloseEvents.js	(revision 76279)
+++ apps/resources-wcm/src/main/webapp/javascript/eXo/wcm/backoffice/private/CloseEvents.js	(working copy)
@@ -3,8 +3,6 @@
  * - true if some content has changed
  **/
 var b_changed = false;
-var document_closing_confirm_msg = "";
-var document_navigating_confirm_msg = "";
 
 /**
  * Change the current state to inform some content has changed
@@ -21,7 +19,7 @@
 function ajaxGet(url, callback) {
   var bypassActionbar= -1; //url.indexOf("uicomponent=UIActionBar_");
   if (b_changed && bypassActionbar<=0) {
-    var answer = confirm(document_navigating_confirm_msg);
+    var answer = confirm(document.getElementById("NavigateConfirmationMsg").innerHTML);
     if (answer) {
       b_changed = false;
     } else {
@@ -39,17 +37,10 @@
  * - manage changes popup
  * - manage CKeditor update in textareas
  **/
-function setClosingConfirmationMsg(msg) {
-  document_closing_confirm_msg = msg;
-}
-
-function setNavigatingConfirmationMsg(msg) {
-  document_navigating_confirm_msg = msg;
-}
 UIForm.prototype.submitForm = function(formId, action, useAjax, callback) {
  if(action.toLowerCase() == "close") {
    if (b_changed) {      
-			var answer = confirm(document_closing_confirm_msg);
+			var answer = confirm(document.getElementById("CloseConfirmationMsg").innerHTML);
     	if (answer) {
       	b_changed = false;
     	} 
@@ -179,31 +170,26 @@
 /**
  * Catch when some content has changed in the form
  **/
-if (navigator.userAgent.indexOf("MSIE") >= 0) {
   var UIDocForm = document.getElementById("UIDocumentForm");
 
   //add onchange event into <input> tags
   var inputTags = UIDocForm.getElementsByTagName("input");
   for (var i = 0; i < inputTags.length; i++) {
-    inputTags[i].attachEvent("onchange", new Function ("changed();"));
+    inputTags[i].onchange = new Function ("changed();");
   }
 
   //add onchange event into <select> tags
   var selectTags = UIDocForm.getElementsByTagName("select");
   for (var i = 0; i < selectTags.length; i++) {
-    selectTags[i].attachEvent("onchange", new Function ("changed();"));
+    selectTags[i].onchange = new Function ("changed();");
   }
 
   //add onchange event into <textarea> tags
   var textareaTags = UIDocForm.getElementsByTagName("textarea");
   for (var i = 0; i < textareaTags.length; i++) {
-    textareaTags[i].attachEvent("onchange", new Function ("changed();"));
+    textareaTags[i].onchange = new Function ("changed();");
   }
-} else {
-  document.getElementById("UIDocumentForm").setAttribute("onchange", "changed()");
-}
-
-
+  
 /**
  * Update each textarea when you type inside CKEditor
  * Inform the page that some content has changed
Index: packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/event/dialogs/dialog1.gtmpl
===================================================================
--- packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/event/dialogs/dialog1.gtmpl	(revision 76279)
+++ packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/event/dialogs/dialog1.gtmpl	(working copy)
@@ -21,7 +21,7 @@
       	%>	      
           <script>
           titleField = document.getElementById("title");
-          titleField.onchange = function() { eXo.ecm.SELocalization.cleanName(this.value, "name"); } ;
+          titleField.onblur = function() { eXo.ecm.SELocalization.cleanName(this.value, "name"); } ;
           </script>
         </td>
 			</tr>
Index: packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/sample/dialogs/dialog1.gtmpl
===================================================================
--- packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/sample/dialogs/dialog1.gtmpl	(revision 76279)
+++ packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/sample/dialogs/dialog1.gtmpl	(working copy)
@@ -19,7 +19,7 @@
           %>
           <script>
           titleField = document.getElementById("title");
-          titleField.onchange = function() { eXo.ecm.SELocalization.cleanName(this.value, "name"); } ;
+          titleField.onblur = function() { eXo.ecm.SELocalization.cleanName(this.value, "name"); } ;
           </script>
         </td>
       </tr>
Index: packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/article/dialogs/dialog1.gtmpl
===================================================================
--- packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/article/dialogs/dialog1.gtmpl	(revision 76279)
+++ packaging/wcm/webapp/src/main/webapp/WEB-INF/conf/dms-extension/dms/artifacts/templates/article/dialogs/dialog1.gtmpl	(working copy)
@@ -22,7 +22,7 @@
       	%>	      
           <script>
           titleField = document.getElementById("title");
-          titleField.onchange = function() { eXo.ecm.SELocalization.cleanName(this.value, "name"); } ;
+          titleField.onblur = function() { eXo.ecm.SELocalization.cleanName(this.value, "name"); } ;
           </script>
         </td>
 			</tr>
